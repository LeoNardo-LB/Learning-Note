# GC日志分析

通过阅读Gc日志，我们可以了解Java虚拟机内存分配与回收策略。 内存分配与垃圾回收的参数列表

-   -XX:+PrintGC  输出GC日志。类似：-verbose:gc
-   -XX:+PrintGCDetails  输出Gc的详细日志
-   -XX:+PrintGCTimestamps   输出Gc的时间戳（以基准时间的形式）
-   -XX:+PrintGCDatestamps  输出Gc的时间戳（以日期的形式，如2013-05-04T21：53：59.234+0800）
-   -XX:+PrintHeapAtGC  在进行Gc的前后打印出堆的信息
-   -Xloggc:../logs/gc.1og  日志文件的输出路径



## 参数分析

#### 1、-verbose:gc 参数分析

![image-20200928210724526](_images/image-20200928210724526.png)

```
[GC (Metadata GC Threshold)  2570K->696K(491008K), 0.0020281 secs]
[Full GC (Metadata GC Threshold)  696K->561K(491008K), 0.0065079 secs]
[GC (Allocation Failure)  129073K->30427K(491008K), 0.0866403 secs]

分析：
Metadata GC Threshold：元空间不足
Allocation Failure：堆空间内存分配失败
```

#### 2、 PrintGCDetails 参数分析